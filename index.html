<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Formulario Evento</title>
  
 <link href="https://fonts.googleapis.com/css2?family=Libre+Baskerville&family=Playfair+Display:wght@600&display=swap" rel="stylesheet">

<style>
  body {
    font-family: 'Libre Baskerville', serif;
    background: #ffffff;
    margin: 0;
    padding: 0;
    color: #107fe0;
  }

  .form-container {
    max-width: 640px;
    margin: 40px auto;
    padding: 40px 32px;
    background: #ffffff;
    border-radius: 16px;
    border: 1px solid #d7d7d7;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.05);
    box-sizing: border-box;
  }

  .formulario-evento {
    padding: 0 16px;
  }

  .formulario-evento label {
    display: block;
    margin-bottom: 8px;
    font-weight: 500;
    font-size: 15px;
    color: #107fe0;
  }

  .grupo-doble {
  display: flex;
  gap: 20px;
  justify-content: space-between;
  flex-wrap: wrap;
}

.grupo-doble label {
  flex: 1;
  min-width: 48%;
}


  .formulario-evento input[type="text"],
  .formulario-evento input[type="email"],
  .formulario-evento input[type="tel"] {
    display: block;
    max-width: 540px;
    width: 100%;
    padding: 12px 14px;
    margin: 6px auto 20px auto;
    border: 1px solid #ccc;
    border-radius: 8px;
    font-size: 15px;
    background-color: #ffffff;
    color: #107fe0;
    font-family: 'Libre Baskerville', serif;
    box-sizing: border-box;
  }

  .formulario-evento input:focus {
    outline: none;
    border-color: #107fe0;
  }

  .formulario-evento p {
    margin-top: 25px;
    font-family: 'Playfair Display', serif;
    font-weight: 600;
    font-size: 17px;
    margin-bottom: 12px;
    color: #107fe0;
  }

  .opciones-entrada {
    display: flex;
    gap: 20px;
    margin-bottom: 20px;
    font-family: 'Libre Baskerville', serif;
  }

  .formulario-evento input[type="radio"],
  .formulario-evento input[type="checkbox"] {
    margin-right: 8px;
  }

  .formulario-evento button {
    background-color: #107fe0;
    color: white;
    border: none;
    padding: 14px 24px;
    font-size: 16px;
    font-weight: 600;
    border-radius: 8px;
    margin: 20px auto 0 auto;
    cursor: pointer;
    display: block;
    transition: background-color 0.3s ease;
    font-family: 'Libre Baskerville', serif;
  }

  .formulario-evento button:hover {
    background-color: #0c6cc4;
  }

  @media screen and (max-width: 600px) {
    .form-container {
      margin: 20px;
      padding: 24px;
    }

    .opciones-entrada {
      flex-direction: column;
      gap: 12px;
    }

    .formulario-evento button {
      width: 100%;
      padding: 16px;
      font-size: 17px;
    }
  }
</style>

</head>
<body>
  <div class="form-container">
    <form id="formEvento" class="formulario-evento">
      <label>Nombre<input type="text" name="nombre" required></label>
      <label>Apellidos<input type="text" name="apellidos" required></label>
      <div class="grupo-doble">
        <label>Tel√©fono
          <input type="tel" name="telefono" required>
        </label>
        <label>Correo electr√≥nico
          <input type="email" name="correo" required>
        </label>
      </div>
      <label>DNI<input type="text" name="dni" required></label>

      <p><strong>Tipo de entrada:</strong></p>
      <div class="opciones-entrada">
        <label><input type="radio" name="entrada" value="Normal" required> Normal</label>
        <label><input type="radio" name="entrada" value="VIP"> VIP</label>
      </div>

     <label>
  <input type="checkbox" required>
  Acepto los <a href="URL-terminos" target="_blank">t√©rminos y condiciones</a> y la <a href="URL-privacidad" target="_blank">pol√≠tica de privacidad</a>
</label>

      <button type="submit">Enviar inscripci√≥n</button>
    </form>
  </div>

 <script>
  console.log("‚úÖ Script cargado ‚Äì formEvento id:", document.getElementById("formEvento"));

  document.getElementById("formEvento").addEventListener("submit", function(e) {
    e.preventDefault();
    console.log("üì® Formulario enviado");

    const nombre = this.nombre.value.trim();
    const apellidos = this.apellidos.value.trim();
    const telefono = this.telefono.value.trim();
    const correo = this.correo.value.trim();
    const dni = this.dni.value.trim();
    const entrada = this.entrada.value;

    console.log("üìù Datos recogidos:", { nombre, apellidos, telefono, correo, dni, entrada });

    const payload = {
      data: [{
        Nombre: nombre,
        Apellidos: apellidos,
        Telefono: telefono,
        Correo: correo,
        DNI: dni,
        Entrada: entrada
      }]
    };

    console.log("üì¶ Payload preparado:", payload);

    fetch("https://sheetdb.io/api/v1/zh8t2fq05nz70", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify(payload)
    })
    .then(res => {
      console.log("‚úÖ Respuesta de SheetDB recibida");
      return res.json();
    })
    .then(data => {
      console.log("üìä SheetDB respuesta JSON:", data);
      const mensaje = `üì© Nueva inscripci√≥n:%0A%0ANombre: ${nombre}%0AApellidos: ${apellidos}%0ATel√©fono: ${telefono}%0ACorreo: ${correo}%0ADNI: ${dni}%0AEntrada: ${entrada}`;
      const numeroWhatsApp = "34611052657";
      const enlaceWhatsApp = `https://wa.me/${numeroWhatsApp}?text=${mensaje}`;
      console.log("üì≤ Redirigiendo a WhatsApp:", enlaceWhatsApp);

      window.open(enlaceWhatsApp, "_blank");
      alert("‚úÖ Enviado. Se abrir√° WhatsApp.");
      this.reset();
    })
    .catch(err => {
      console.error("‚ùå Error al enviar datos:", err);
      alert("Error al enviar formulario.");
    });
  });
</script>

</body>
</html>
